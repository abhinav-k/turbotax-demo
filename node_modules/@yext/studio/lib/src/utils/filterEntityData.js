/**
 * Filters the entity data using the provided fieldFilter function.
 */
export default function filterEntityData(fieldFilter, entityData = {}) {
    const filteredEntries = Object.entries(entityData)
        .filter(([field]) => field !== "__")
        .map(([field, value]) => {
        const isObjectField = typeof value === "object" && !Array.isArray(value) && value !== null;
        if (isObjectField) {
            const filteredSubObject = filterEntityData(fieldFilter, value);
            return Object.keys(filteredSubObject).length === 0
                ? null
                : [field, filteredSubObject];
        }
        else {
            return fieldFilter(value) ? [field, value] : null;
        }
    })
        .filter((n) => !!n);
    return Object.fromEntries(filteredEntries);
}
//# sourceMappingURL=filterEntityData.js.map