"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.staticProxy = void 0;
function staticProxy(src, overrides) {
    if (typeof overrides === "function")
        overrides = overrides(src);
    var proxy = {};
    var keys = new Set(Object.getOwnPropertyNames(src).concat(Object.getOwnPropertyNames(overrides)));
    keys.forEach(function (k) {
        Object.defineProperty(proxy, k, {
            enumerable: true,
            get: function () {
                if (overrides.hasOwnProperty(k))
                    return overrides[k];
                return src[k];
            },
            set: function (v) {
                if (overrides.hasOwnProperty(k))
                    return (overrides[k] = v);
                return (src[k] = v);
            },
        });
    });
    Object.seal(src);
    return proxy;
}
exports.staticProxy = staticProxy;
